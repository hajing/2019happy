(function(e){function t(t){for(var n,r,l=t[0],o=t[1],c=t[2],u=0,v=[];u<l.length;u++)r=l[u],i[r]&&v.push(i[r][0]),i[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);p&&p(t);while(v.length)v.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,r=1;r<a.length;r++){var o=a[r];0!==i[o]&&(n=!1)}n&&(s.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},i={app:0},s=[];function r(e){return l.p+"js/"+({about:"about"}[e]||e)+"."+{about:"43739a75"}[e]+".js"}function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(e){var t=[],a=i[e];if(0!==a)if(a)t.push(a[2]);else{var n=new Promise(function(t,n){a=i[e]=[t,n]});t.push(a[2]=n);var s,o=document.createElement("script");o.charset="utf-8",o.timeout=120,l.nc&&o.setAttribute("nonce",l.nc),o.src=r(e),s=function(t){o.onerror=o.onload=null,clearTimeout(c);var a=i[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src,r=new Error("Loading chunk "+e+" failed.\n("+n+": "+s+")");r.type=n,r.request=s,a[1](r)}i[e]=void 0}};var c=setTimeout(function(){s({type:"timeout",target:o})},12e4);o.onerror=o.onload=s,document.head.appendChild(o)}return Promise.all(t)},l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/2019happy/",l.oe=function(e){throw console.error(e),e};var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var p=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var n=a("64a9"),i=a.n(n);i.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("097d");var n=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[],r=(a("034f"),a("2877")),l={},o=Object(r["a"])(l,i,s,!1,null,null,null);o.options.__file="App.vue";var c=o.exports,u=a("8c4f"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("div",{staticClass:"partner-list"},[e._l(e.winnersList,function(e,t){return a("div",{key:t+"winner",staticClass:"partner"},[a("span",{staticClass:"ec ec-crown relative-position"}),a("div",{staticClass:"partner-content",attrs:{title:e.full_name}},[a("img",{staticClass:"partner-img",attrs:{src:e.image}})])])}),e._l(e.partnerList,function(t,n){return a("div",{key:n,staticClass:"partner"},[a("div",{staticClass:"partner-content",class:[-1!=e.currentList.indexOf(t)?"active-border":""],attrs:{title:t.full_name}},[e.display?a("span",{staticClass:"partner-name"},[e._v(e._s(t.last_name))]):a("img",{staticClass:"partner-img",attrs:{src:t.image}})])])})],2),e.winnersShow?a("div",{staticClass:"winners",style:{opacity:e.opacityColor}},[e._m(0),a("div",{staticClass:"winners-info"},[a("div",{staticClass:"winners-name"},e._l(e.currentList,function(t,n){return a("span",{key:n},[e._v(e._s(e.prizeType+"："+t.last_name))])}),0),a("div",{attrs:{id:"scratch"}},[a("div",{staticClass:"card",attrs:{id:"card"}},e._l(e.currentList,function(t,n){return a("span",{key:n},[e._v(e._s(t.first_name))])}),0)])])]):e._e(),e.winnersRecord?a("div",{staticClass:"winners-record"},[a("div",{staticClass:"winners-record-title"},[e._v("中奖记录")]),a("div",{staticClass:"winners-record-items"},e._l(e.recordList,function(t,n){return a("div",{key:n,staticClass:"winners-record-items"},e._l(t,function(t,n){return a("div",{key:n,staticClass:"winners-record-item"},[a("img",{staticClass:"partner-img",attrs:{src:t.image}}),a("span",{staticClass:"winners-record-text"},[e._v(e._s(t.full_name))]),a("span",{staticClass:"winners-record-text"},[e._v(e._s(t.prize_level))])])}),0)}),0)]):e._e(),e.lotterySet?a("div",{staticClass:"lottery-setting"},[a("div",{staticClass:"lottery-setting-title"},[e._v("抽奖设置")]),a("div",{staticClass:"lottery-setting-items"},[a("section",{staticClass:"form nes-container with-title"},[a("h2",{staticClass:"title"},[e._v("设置")]),a("div",{staticClass:"nes-field is-inline"},[a("label",{attrs:{for:"inline_field"}},[e._v(".本轮中奖人数：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.luckyGuy,expression:"luckyGuy"}],staticClass:"nes-input is-success",attrs:{type:"number",id:"inline_field",placeholder:"(•‾̑⌣‾̑•)✧˖°都是幸运儿"},domProps:{value:e.luckyGuy},on:{input:function(t){t.target.composing||(e.luckyGuy=t.target.value)}}})])]),a("section",{staticClass:"nes-container with-title"},[a("h2",{staticClass:"title"},[e._v("奖品类别")]),a("label",{staticClass:"nes-container-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.prizeType,expression:"prizeType"}],attrs:{type:"radio",id:"one",value:"有钱任性想抽奖"},domProps:{checked:e._q(e.prizeType,"有钱任性想抽奖")},on:{change:function(t){e.prizeType="有钱任性想抽奖"}}}),a("label",{attrs:{for:"one"}},[e._v("有钱任性想抽奖")])]),a("label",{staticClass:"nes-container-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.prizeType,expression:"prizeType"}],attrs:{type:"radio",id:"two",value:"三等奖"},domProps:{checked:e._q(e.prizeType,"三等奖")},on:{change:function(t){e.prizeType="三等奖"}}}),a("label",{attrs:{for:"two"}},[e._v("三等奖")])]),a("label",{staticClass:"nes-container-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.prizeType,expression:"prizeType"}],attrs:{type:"radio",id:"three",value:"二等奖"},domProps:{checked:e._q(e.prizeType,"二等奖")},on:{change:function(t){e.prizeType="二等奖"}}}),a("label",{attrs:{for:"three"}},[e._v("二等奖")])]),a("label",{staticClass:"nes-container-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.prizeType,expression:"prizeType"}],attrs:{type:"radio",id:"four",value:"一等奖"},domProps:{checked:e._q(e.prizeType,"一等奖")},on:{change:function(t){e.prizeType="一等奖"}}}),a("label",{attrs:{for:"four"}},[e._v("一等奖")])]),a("label",{staticClass:"nes-container-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.prizeType,expression:"prizeType"}],attrs:{type:"radio",id:"five",value:"特等奖"},domProps:{checked:e._q(e.prizeType,"特等奖")},on:{change:function(t){e.prizeType="特等奖"}}}),a("label",{attrs:{for:"five"}},[e._v("特等奖")])])]),a("section",{staticClass:"form nes-container with-title"},[a("h2",{staticClass:"title"},[e._v("自动开奖")]),a("div",{staticClass:"nes-field is-inline"},[a("label",{attrs:{for:"inline_fields"}},[e._v(".开奖时限(单位:秒)：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.secondValue,expression:"secondValue"}],staticClass:"nes-input is-warning",attrs:{disabled:e.manualMode,type:"number",id:"inline_fields",placeholder:"开奖时限"},domProps:{value:e.secondValue},on:{input:function(t){t.target.composing||(e.secondValue=t.target.value)}}})])]),a("section",{staticClass:"nes-container with-title"},[a("h2",{staticClass:"title"},[e._v("手动抽奖")]),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.manualMode,expression:"manualMode"}],staticClass:"nes-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.manualMode)?e._i(e.manualMode,null)>-1:e.manualMode},on:{change:function(t){var a=e.manualMode,n=t.target,i=!!n.checked;if(Array.isArray(a)){var s=null,r=e._i(a,s);n.checked?r<0&&(e.manualMode=a.concat([s])):r>-1&&(e.manualMode=a.slice(0,r).concat(a.slice(r+1)))}else e.manualMode=i}}}),a("span",[e._v("启动")])])]),a("div",{staticClass:"lottery-setting-button"},[a("button",{staticClass:"nes-btn is-success",attrs:{type:"button"},on:{click:e.lotterySetting}},[e._v("确认")])])])]):e._e(),a("div",{staticClass:"operation-button"},[e.menuShow?a("div",{staticClass:"hide-operation-button"},[e.manualMode?a("span",{staticClass:"operation-button-lottery warning-color",on:{click:e.openLucky}},[e._v("暂停并开奖")]):e._e(),a("span",{staticClass:"operation-button-lottery",on:{click:e.toggleContent}},[e._v(e._s(e.display?"准备":"抽奖"))]),a("span",{staticClass:"operation-button-lottery",on:{click:e.lotteryMenu}},[e._v("设置")]),a("span",{staticClass:"operation-button-lottery",on:{click:function(t){e.winnersRecord=!e.winnersRecord}}},[e._v("记录")]),a("span",{staticClass:"operation-button-lottery",on:{click:e.clearWinnersList}},[e._v("重置")]),a("span",{staticClass:"operation-button-lottery",on:{click:e.dataDefinition}},[e._v("数据")])]):e._e(),a("span",{staticClass:"operation-button-lottery",on:{click:function(t){e.menuShow=!e.menuShow}}},[e._v("菜单")])])])},v=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"emoji-list"},[a("i",{staticClass:"nes-pokeball"}),a("i",{staticClass:"nes-icon star is-large"}),a("span",{staticClass:"ec ec-rocket"}),a("span",{staticClass:"ec ec-sparkling-heart"}),a("i",{staticClass:"nes-icon trophy is-large"}),a("span",{staticClass:"ec ec-metal"}),a("i",{staticClass:"nes-octocat animate"}),a("span",{staticClass:"ec ec-100"}),a("i",{staticClass:"nes-icon google is-large"}),a("span",{staticClass:"ec ec-tada"}),a("i",{staticClass:"nes-icon heart is-large"}),a("i",{staticClass:"nes-charmander"})])}],m=(a("20d6"),a("0a0d")),h=a.n(m),d=(a("ac6a"),a("f499")),f=a.n(d),_=[{last_name:"孙",first_name:"爽",full_name:"孙爽",image:"avatar/sunshuang.jpg",is_winner:!1,prize_level:""},{last_name:"陈",first_name:"梓琪",full_name:"陈梓琪",image:"avatar/chenziqi.jpg",is_winner:!1,prize_level:""},{last_name:"李",first_name:"嘉怡",full_name:"李嘉怡",image:"avatar/lijiayi.jpg",is_winner:!1,prize_level:""},{last_name:"湛",first_name:"红波",full_name:"湛红波",image:"avatar/zhanhongbo.jpg",is_winner:!1,prize_level:""},{last_name:"黄",first_name:"丽君",full_name:"黄丽君",image:"avatar/huanglijun.jpg",is_winner:!1,prize_level:""},{last_name:"陈",first_name:"斌",full_name:"陈斌",image:"avatar/chenbing.jpg",is_winner:!1,prize_level:""},{last_name:"彭",first_name:"信龙",full_name:"彭信龙",image:"avatar/pengxinlong.jpg",is_winner:!1,prize_level:""},{last_name:"贺",first_name:"京",full_name:"贺京",image:"avatar/hejing.jpg",is_winner:!1,prize_level:""},{last_name:"王",first_name:"幼平",full_name:"王幼平",image:"avatar/wangyouping.jpg",is_winner:!1,prize_level:""},{last_name:"陈",first_name:"冬晓",full_name:"陈冬晓",image:"avatar/chendongxiao.jpg",is_winner:!1,prize_level:""},{last_name:"张",first_name:"灿飞",full_name:"张灿飞",image:"avatar/zhangcanfei.jpg",is_winner:!1,prize_level:""},{last_name:"刘",first_name:"立灜",full_name:"刘立灜",image:"avatar/liuliying.jpg",is_winner:!1,prize_level:""},{last_name:"陈",first_name:"宇清",full_name:"陈宇清",image:"avatar/chenyuqing.jpg",is_winner:!1,prize_level:""},{last_name:"黄",first_name:"建华",full_name:"黄建华",image:"avatar/huangjianhua.jpg",is_winner:!1,prize_level:""},{last_name:"梁",first_name:"皓",full_name:"梁皓",image:"avatar/lianghao.jpg",is_winner:!1,prize_level:""},{last_name:"孔",first_name:"银华",full_name:"孔银华",image:"avatar/kongyinhua.jpg",is_winner:!1,prize_level:""},{last_name:"刘",first_name:"永红",full_name:"刘永红",image:"avatar/liuyonghong.jpg",is_winner:!1,prize_level:""},{last_name:"刘",first_name:"少立",full_name:"刘少立",image:"avatar/liushaoli.jpg",is_winner:!1,prize_level:""},{last_name:"吴",first_name:"彩霞",full_name:"吴彩霞",image:"avatar/wucaixia.jpg",is_winner:!1,prize_level:""},{last_name:"李",first_name:"春枫",full_name:"李春枫",image:"avatar/lichunfeng.jpg",is_winner:!1,prize_level:""},{last_name:"李",first_name:"劲澄",full_name:"李劲澄",image:"avatar/lijincheng.jpg",is_winner:!1,prize_level:""},{last_name:"路",first_name:"占峰",full_name:"路占峰",image:"avatar/luzhanfeng.jpg",is_winner:!1,prize_level:""},{last_name:"黄",first_name:"伟君",full_name:"黄伟君",image:"avatar/huangweijun.jpg",is_winner:!1,prize_level:""},{last_name:"范",first_name:"英林",full_name:"范英林",image:"avatar/fanyinglin.jpg",is_winner:!1,prize_level:""},{last_name:"张",first_name:"清",full_name:"张清",image:"avatar/zhangqing.jpg",is_winner:!1,prize_level:""},{last_name:"刘",first_name:"泽华",full_name:"刘泽华",image:"avatar/liuzehua.jpg",is_winner:!1,prize_level:""},{last_name:"杨",first_name:"健",full_name:"杨健",image:"avatar/yangjian.jpg",is_winner:!1,prize_level:""},{last_name:"黄",first_name:"松林",full_name:"黄松林",image:"avatar/huangsonglin.jpg",is_winner:!1,prize_level:""},{last_name:"孙",first_name:"瑞平",full_name:"孙瑞平",image:"avatar/sunruiping.jpg",is_winner:!1,prize_level:""},{last_name:"陈",first_name:"昌富",full_name:"陈昌富",image:"avatar/chenchangfu.jpg",is_winner:!1,prize_level:""},{last_name:"陈",first_name:"文越",full_name:"陈文越",image:"avatar/chenwenyue.jpg",is_winner:!1,prize_level:""},{last_name:"李",first_name:"洪江",full_name:"李洪江",image:"avatar/lihongjiang.jpg",is_winner:!1,prize_level:""},{last_name:"王",first_name:"松林",full_name:"王松林",image:"avatar/wangsonglin.jpg",is_winner:!1,prize_level:""},{last_name:"康",first_name:"倩男",full_name:"康倩男",image:"avatar/kangqiannan.jpg",is_winner:!1,prize_level:""},{last_name:"陈",first_name:"德彬",full_name:"陈德彬",image:"avatar/chendebin.jpg",is_winner:!1,prize_level:""},{last_name:"何",first_name:"柳青",full_name:"何柳青",image:"avatar/heliuqing.jpg",is_winner:!1,prize_level:""},{last_name:"黄",first_name:"昌健",full_name:"黄昌健",image:"avatar/huangchangjian.jpg",is_winner:!1,prize_level:""},{last_name:"兰",first_name:"菁",full_name:"兰菁",image:"avatar/lanjing.jpg",is_winner:!1,prize_level:""},{last_name:"刘",first_name:"非",full_name:"刘非",image:"avatar/liufei.jpg",is_winner:!1,prize_level:""},{last_name:"刘",first_name:"先裴",full_name:"刘先裴",image:"avatar/liuxianpei.jpg",is_winner:!1,prize_level:""},{last_name:"徐",first_name:"明德",full_name:"徐明德",image:"avatar/xumingde.jpg",is_winner:!1,prize_level:""},{last_name:"张",first_name:"郭",full_name:"张郭",image:"avatar/zhangguo.jpg",is_winner:!1,prize_level:""},{last_name:"朱",first_name:"运来",full_name:"朱运来",image:"avatar/zhuyunlai.jpg",is_winner:!1,prize_level:""},{last_name:"栗",first_name:"晨晨",full_name:"栗晨晨",image:"avatar/lichenchen.jpg",is_winner:!1,prize_level:""}],g=a("73d4"),y=a("2ef0"),w={name:"home",components:{},data:function(){return{partnerList:[],display:!1,currentList:[],opacityColor:0,winnersLastName:"ding",winnersFirstName:"just",menuShow:!1,winnersList:[],winnersRecord:!1,lotterySet:!1,luckyGuy:1,recordList:[],secondValue:10,manualMode:!1,interval:null,prizeType:"有钱任性想抽奖",countFlag:0,getReady:!0,winnersShow:!1}},mounted:function(){this.initdata()},methods:{initdata:function(){var e=this,t=JSON.parse(sessionStorage.getItem("dataList")?sessionStorage.getItem("dataList"):f()(_));this.winnersList.length=this.partnerList.length=this.recordList.length=0;var a=t.data?t.data:t;a.forEach(function(t){t.is_winner?e.winnersList.push(t):e.partnerList.push(t)}),t.record&&(this.recordList=t.record)},lotterySetting:function(){this.luckyGuy=Math.round(this.luckyGuy),this.secondValue=Math.round(this.secondValue),console.log(this.luckyGuy),console.log(this.secondValue);var e=this.partnerList.length;if(0==e)alert("没有可以参与抽奖的小伙伴了！");else{if(this.luckyGuy<1)return alert("至少需要一个人成为幸运儿！"),void(this.luckyGuy=1);if(this.luckyGuy>e)return alert("将来我们会发展成这么多人的大公司，但现在，数数在场的小伙伴吧！"),void(this.luckyGuy=1);if(this.secondValue<1)return alert("至少需要1秒吧！"),void(this.secondValue=6)}this.lotterySet=!1},lotteryMenu:function(){this.display?alert("设置参数很重要，请先准备好！"):this.lotterySet=!this.lotterySet},confetti:function(){var e=h()()+12e3,t=["#bb0000","#ffffff"],a=setInterval(function(){if(h()()>e)return clearInterval(a);g({startVelocity:30,spread:360,ticks:60,origin:{x:Math.random(),y:Math.random()-.2}})},100);(function a(){g({particleCount:2,angle:60,spread:55,origin:{x:0},colors:t}),g({particleCount:2,angle:120,spread:55,origin:{x:1},colors:t}),h()()<e&&requestAnimationFrame(a)})()},clearWinnersList:function(){confirm("确定重置数据吗？")&&(this.display?alert("重置数据也要先做好准备！"):(sessionStorage.getItem("dataList")&&sessionStorage.clear(),this.initdata()))},dataDefinition:function(){alert("还没做啦！老是点我干嘛")},openLucky:function(){var e=this;if(this.countFlag++,1==this.countFlag&&this.interval&&this.display)return LuckyCard.case({coverColor:"#CCCCCC",ratio:.5,callback:function(){e.getReady=!0}}),this.opacityColor=.9,this.confetti(),clearInterval(this.interval);alert("还没开始就已结束？！")},toggleContent:function(){var e=this;if(0!=this.partnerList.length)if(this.getReady){if(this.display||confirm("确定开始抽奖吗？"))if(this.display=!this.display,this.opacityColor=0,this.winnersShow=!1,this.display){this.getReady=!1,this.countFlag=0,this.partnerList=y.shuffle(this.partnerList);var t=h()()+1e3*this.secondValue;this.winnersShow=!0,this.manualMode?this.interval=setInterval(function(){var t=y.sampleSize(e.partnerList,e.luckyGuy);console.log("幸运儿："+f()(t)),e.currentList=t},100):this.interval=setInterval(function(){if(h()()>t)return clearInterval(e.interval),LuckyCard.case({coverColor:"#CCCCCC",ratio:.5,callback:function(){e.getReady=!0}}),e.opacityColor=.9,void e.confetti();var a=y.sampleSize(e.partnerList,e.luckyGuy);console.log("幸运儿："+f()(a)),e.currentList=a},100)}else{this.recordList.push(this.currentList),this.currentList.forEach(function(t){t.is_winner=!0,t.prize_level=e.prizeType,e.winnersList.push(t);var a=y.findIndex(e.partnerList,t);e.partnerList.splice(a,1)}),sessionStorage.setItem("dataList",f()({data:this.winnersList.concat(this.partnerList),record:this.recordList}));sessionStorage.getItem("dataList");this.currentList=[];var a=document.querySelectorAll(".cover");a.forEach(function(e){e.remove()})}}else alert("请等待刮奖完成噢！");else alert("没有可以参与抽奖的小伙伴了！")}}},C=w,b=(a("cccb"),Object(r["a"])(C,p,v,!1,null,null,null));b.options.__file="Home.vue";var z=b.exports;n["a"].use(u["a"]);var j=new u["a"]({mode:"history",base:"/2019happy/",routes:[{path:"/",name:"home",component:z},{path:"/about",name:"about",component:function(){return a.e("about").then(a.bind(null,"f820"))}}]}),k=a("2f62");n["a"].use(k["a"]);var L=new k["a"].Store({state:{},mutations:{},actions:{}}),x=(a("f5df"),a("30fe"),a("5c83"),a("6778"),a("bf53"));n["a"].use(x["a"]),n["a"].config.productionTip=!0,new n["a"]({router:j,store:L,render:function(e){return e(c)}}).$mount("#app")},"5c83":function(e,t,a){},"64a9":function(e,t,a){},6778:function(e,t,a){},bf53:function(e,t,a){"use strict";(function(e){var n=a("7618");a("6c7b"),a("ac6a"),a("cadf"),a("551c"),a("097d");
/*! lucky-card 1.0.0 https://github.com/Franslee/lucky-card 2017-08-17 */t["a"]=!function(t,i,s){function r(e,t){this.cover=null,this.ctx=null,this.scratchDiv=null,this.cardDiv=null,this.cHeight=0,this.cWidth=0,this.supportTouch=!1,this.events=[],this.startEventHandler=null,this.moveEventHandler=null,this.endEventHandler=null,this.opt={coverColor:"#C5C5C5",coverImg:"",ratio:.8,callback:null},this.init(e,t)}function l(e,t,a){var n=e.getImageData(0,0,this.cWidth,this.cHeight),i=[];o(n.data,function(e,t){var a=n.data[t+3];0===a&&i.push(a)}),i.length/n.data.length>a&&t&&"function"==typeof t&&t()}function o(e,t){return Array.prototype.forEach.call(e,function(e,a){t(e,a)})}function c(){var e=i.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}function u(e){e.preventDefault(),this.moveEventHandler=p.bind(this),this.cover.addEventListener(this.events[1],this.moveEventHandler,!1),this.endEventHandler=v.bind(this),i.addEventListener(this.events[2],this.endEventHandler,!1)}function p(e){e.preventDefault();var t=this.supportTouch?e.touches[0]:e,a=this.cover.getBoundingClientRect(),n=i.documentElement.scrollTop||i.body.scrollTop,s=i.documentElement.scrollLeft||i.body.scrollLeft,r=t.pageX-a.left-s,l=t.pageY-a.top-n;this.ctx.beginPath(),this.ctx.fillStyle="#FFFFFF",this.ctx.globalCompositeOperation="destination-out",this.ctx.arc(r,l,10,0,2*Math.PI),this.ctx.fill()}function v(e){e.preventDefault(),this.opt.callback&&"function"==typeof this.opt.callback&&l.call(this,this.ctx,this.opt.callback,this.opt.ratio),this.cover.removeEventListener(this.events[1],this.moveEventHandler,!1),i.removeEventListener(this.events[2],this.endEventHandler,!1)}r.prototype.createCanvas=function(){if(this.cover=i.createElement("canvas"),this.cover.id="cover",this.cover.className="cover",this.cover.height=this.cHeight,this.cover.width=this.cWidth,this.ctx=this.cover.getContext("2d"),this.opt.coverImg){var e=this,t=new Image;t.src=this.opt.coverImg,t.onload=function(){e.ctx.drawImage(t,0,0,e.cover.width,e.cover.height)}}else this.ctx.fillStyle=this.opt.coverColor,this.ctx.fillRect(0,0,this.cover.width,this.cover.height);this.scratchDiv.appendChild(this.cover),this.cardDiv.style.opacity=1},r.prototype.eventDetect=function(){"ontouchstart"in t&&(this.supportTouch=!0),this.events=this.supportTouch?["touchstart","touchmove","touchend"]:["mousedown","mousemove","mouseup"],this.addEvent()},r.prototype.addEvent=function(){this.startEventHandler=u.bind(this),this.cover.addEventListener(this.events[0],this.startEventHandler,!1)},r.prototype.clearCover=function(){this.ctx.clearRect(0,0,this.cover.width,this.cover.height),this.cover.removeEventListener(this.events[0],this.startEventHandler),this.cover.removeEventListener(this.events[1],this.moveEventHandler),this.cover.removeEventListener(this.events[2],this.endEventHandler)},r.prototype.init=function(e,t){if(c()){var a=this;o(arguments,function(e){if("object"==Object(n["a"])(e))for(var t in e)"callback"===t&&"function"==typeof e[t]?a.opt.callback=e[t].bind(a):t in a.opt&&(a.opt[t]=e[t]);else"function"==typeof e&&(a.opt.callback=e.bind(a))}),this.scratchDiv=i.getElementById("scratch"),this.cardDiv=i.getElementById("card"),this.scratchDiv&&this.cardDiv&&(this.cHeight=this.cardDiv.clientHeight,this.cWidth=this.cardDiv.clientWidth,this.cardDiv.style.opacity=0,this.createCanvas(),this.eventDetect())}else alert("对不起，当前浏览器不支持Canvas，无法使用本控件！")},r.case=function(e,t){return new r(e,t)},"function"==typeof define&&"object"==Object(n["a"])(a("3c35"))&&a("3c35")?define(function(){return r}):e.exports?(e.exports=r.case,e.exports.LuckyCard=r):t.LuckyCard=r}(window,document)}).call(this,a("dd40")(e))},cccb:function(e,t,a){"use strict";var n=a("d563"),i=a.n(n);i.a},d563:function(e,t,a){}});
//# sourceMappingURL=app.87b57e34.js.map